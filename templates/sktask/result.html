{% extends 'base.html' %}
{% load mytags %}
{% block content %}


  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
    </section>

    <!-- Main content -->

    <section class="content">

      <!-- Default box -->
      <div class="box">
        <div class="box-header with-border">
          <h3 class="box-title">执行结果</h3>

          <div class="box-tools pull-right">
          </div>
        </div>
        <div class="box-body">
        {% for d in ret %}
        <p class="text-color">{{ d|res_splict|safe }}</p><br>
        {% endfor %}
        </div>
        <!-- /.box-body -->
       <a href="{% url 'project_manage' %}"> <li class="btn btn-primary" style="width: 60pt">返回</li></a>
        <div class="box-footer">
          <i class="fa fa-info-circle"></i>
        </div>
        <!-- /.box-footer-->
      </div>
      <!-- /.box -->

    </section>

  </div>
  <script>
  //初始化文字颜色  
  $(document).ready(function(){  
      var colorConfig = { "green": ["ok", ],"yellow": ["changed", ],  "red": ["unreachable", "failed"] };  
      jQuery(".text-color").html(function () {  
          var text = jQuery(this).html();  
          jQuery.each(colorConfig, function (color, values) {  
              jQuery.each(values, function (i, item) { 
            	   var re =new RegExp(item +"="+"[1-9][0-9]*","g");

            	   
            	   text = text.replace(re,function(result){
            		   return '<font color="' + color + '">' + result + '</font>'
            	   });
            	   
              });  
          });  
          return text;  
      });  
  });
  </script>
{% endblock %}